[chat => play.mode=short]
sound.profile = im_fg.alert.tone@general => sound.filename
sound.stream.event.id = event-in-call
ffmemless.effect = NGF_SHORT
sound.stream.module-stream-restore.id = x-meego-ringing-volume
mce.led_pattern = PatternCommunicationIM
sound.enabled.profile = im_fg.alert.enabled => sound.enabled

[chat => play.mode=*,context@call_state.mode=active]
sound.profile = im_fg.alert.tone@general => sound.filename
sound.stream.event.id = event-in-call
sound.stream.module-stream-restore.id = sink-input-by-media-role:indicator-tone
mce.led_pattern = PatternCommunicationIM

[%define default]
sound.profile = im.alert.tone => sound.filename
sound.profile.fallback = im.alert.tone@fallback => sound.filename
ffmemless.effect = NGF_SHORT
sound.stream.event.id = message-new-email
sound.stream.module-stream-restore.id = x-meego-ringing-volume
sound.stream.media.role = notification
sound.stream.droid.device.additional-route = AUDIO_DEVICE_OUT_SPEAKER
mce.led_pattern = PatternCommunicationIM
sound.enabled.profile = im.alert.enabled => sound.enabled

[chat_exists => context@call_state.mode == none, context@route.output.class == external, context@media.state == inactive]
%include.1 = default
sound.stream.droid.device.additional-route = AUDIO_DEVICE_OUT_SPEAKER
sound.delay-startup = 1000

[chat_exists => context@call_state.mode == none, context@route.output.class == external, context@media.state != inactive]
%include.1 = default
sound.stream.module-stream-restore.id = x-media-playback-volume

[chat_exists => context@call_state.mode != none]
mce.led_pattern = PatternCommunicationIM

[chat_exists]
%include.1 = default

[chat]
$include.1 = default